{"version":3,"sources":["PriceDetailComponent.js"],"names":[],"mappings":"AAAA;;;;;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;;;AAEA,IAAI,UAAU,QAAQ,SAAR,CAAd;AACA,QAAQ,8BAAR;;IAEM,oB;;;AACJ,gCAAY,KAAZ,EAAmB;AAAA;;AAAA,4IACX,KADW;;AAEjB,UAAK,KAAL,GAAa;AACX,oBAAa,EADF;AAEX,YAAK;AAFM,KAAb;AAFiB;AAMlB;;;;wCAEmB;AAClB,UAAI,CAAJ,EAAM,CAAN;AACA,UAAI,IAAI,IAAJ,EAAJ;AACA,UAAI,OAAJ,CAHkB,CAGO;AACzB,UAAI,KAAK,EAAE,QAAF,KAAe,CAApB,IAAyB,GAA7B,CAJkB,CAIe;AACjC,WAAK,EAAE,OAAF,KAAc,GAAnB,CALkB,CAKc;AAChC,WAAK,EAAE,QAAF,KAAe,GAApB,CANkB,CAMa;AAC/B,WAAK,EAAE,UAAF,KAAiB,GAAtB,CAPkB,CAOY;AAC9B,WAAK,EAAE,UAAF,EAAL,CARkB,CAQW;AAC7B,cAAQ,GAAR,CAAY,CAAZ;AACA,UAAI,OAAO,IAAX;AACA,uBAAE,IAAF,CAAO;AACL,gBAAO,KADF;AAEL,aAAI,+FAA6F,KAAK,KAAL,CAAW,MAAX,CAAkB;AAF9G,OAAP,EAGG,IAHH,CAGQ,UAAU,IAAV,EAAgB;AACtB,yBAAE,IAAF,CAAO;AACL,kBAAO,KADF;AAEL,eAAI,mDAAiD,KAAK,KAAL,CAAW,MAAX,CAAkB;AAFlE,SAAP,EAGG,IAHH,CAGQ,UAAU,SAAV,EAAqB;AAC3B,kBAAQ,GAAR,CAAY,SAAZ;AACA,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,MAAzB,EAAiC,GAAjC,EAAqC;AACnC,gBAAI,OAAO,KAAK,KAAL,CAAW,YAAtB;AACA,gBAAI,OAAO,EAAX;AACA,iBAAK,CAAL,IAAU,KAAK,CAAL,EAAQ,KAAlB;AACA,iBAAK,CAAL,IAAU,KAAK,CAAL,EAAQ,GAAlB;AACA,iBAAK,IAAL,CAAU,IAAV;AACA,iBAAK,QAAL,CAAc;AACZ,4BAAa;AADD,aAAd;AAGD;AACD,cAAI,WAAW,UAAU,KAAV,CAAgB,GAAhB,CAAf;AACA,kBAAQ,GAAR,CAAY,QAAZ;AACA,cAAI,KAAK,SAAS,SAAS,CAAT,CAAT,CAAT;AACA,cAAI,KAAK,SAAS,SAAS,CAAT,CAAT,CAAT;AACA,cAAI,KAAK,KAAG,EAAZ;AACA,cAAI,KAAK,KAAG,EAAZ;AACA,cAAI,MAAM,KAAK,KAAL,CAAW,YAAX,CAAwB,MAAlC;AACA,cAAI,UAAU,QAAQ,IAAR,CAAa,SAAS,cAAT,CAAwB,MAAxB,CAAb,CAAd;AACA,kBAAQ,SAAR,CAAkB;AAChB,kBAAK;AACH,oBAAK;AADF,aADW;AAIhB,qBAAS,EAJO;AAKhB,mBAAO;AACL,oBAAM,OADD;AAEL,yBAAW;AACT,sBAAK;AADI,eAFN;AAKL,mBAAI,CALC;AAML,mBAAI;AANC,aALS;AAahB,mBAAO;AACL,oBAAM,OADD;AAEL,qBAAM;AAFD,aAbS;AAiBhB,oBAAQ,CAAC;AACP,oBAAM,MADC;AAEP,oBAAM,MAFC;AAGP,oBAAK,KAAK,KAAL,CAAW,YAHT;AAIP,wBAAU,SAJH;AAKP,sBAAQ;AALD,aAAD,EAON;AACE,oBAAM,GADR;AAEE,oBAAM,MAFR;AAGE,oBAAM,CAAC,CAAC,CAAD,EAAG,EAAH,CAAD,EAAS,CAAC,GAAD,EAAK,EAAL,CAAT;;AAHR,aAPM,EAaN;AACE,oBAAM,GADR;AAEE,oBAAM,MAFR;AAGE,oBAAM,CAAC,CAAC,CAAD,EAAG,EAAH,CAAD,EAAS,CAAC,GAAD,EAAK,EAAL,CAAT;AAHR,aAbM,EAkBN;AACE,oBAAM,GADR;AAEE,oBAAM,MAFR;AAGE,oBAAM,CAAC,CAAC,CAAD,EAAG,EAAH,CAAD,EAAS,CAAC,GAAD,EAAK,EAAL,CAAT,CAHR;AAIE,sBAAQ,MAJV;AAKE,yBAAU;AACR,wBAAO;AACL,wBAAK;AADA;AADC;AALZ,aAlBM,EA6BN;AACE,oBAAM,GADR;AAEE,oBAAM,MAFR;AAGE,oBAAM,CAAC,CAAC,CAAD,EAAG,EAAH,CAAD,EAAS,CAAC,GAAD,EAAK,EAAL,CAAT,CAHR;AAIE,sBAAQ,MAJV;AAKE,yBAAU;AACR,wBAAO;AACL,wBAAK;AADA;AADC;AALZ,aA7BM;AAjBQ,WAAlB;AA2DD,SAlFD;AAmFC,OAvFH;;AA0FA,uBAAE,IAAF,CAAO;AACL,gBAAO,KADF;AAEL,aAAI,sDAAoD,KAAK,KAAL,CAAW,MAAX,CAAkB;AAFrE,OAAP,EAGG,IAHH,CAGQ,UAAU,IAAV,EAAgB;AACtB,eAAO,KAAK,KAAL,CAAW,IAAX,CAAP;AACA,gBAAQ,GAAR,CAAY,KAAK,IAAL,CAAU,CAAV,EAAa,CAAb,CAAZ;AACA,aAAK,QAAL,CAAc;AACZ,gBAAK,KAAK,IAAL,CAAU,CAAV,EAAa,CAAb;AADO,SAAd;AAGD,OATD;AAWD;;;6BAGQ;AAAA;;AACP,aACE;AAAA;AAAA,UAAK,WAAU,uBAAf;AACE;AACE,iBAAM,cADR;AAEE,8BAAoB;AAFtB,UADF;AAKE;AAAA;AAAA,YAAO,WAAU,gBAAjB;AACI;AAAA;AAAA,cAAI,WAAU,aAAd;AACE;AAAA;AAAA;AAAA;AAAA,aADF;AAEE;AAAA;AAAA;AAAA;AAAA,aAFF;AAGE;AAAA;AAAA;AAAA;AAAA,aAHF;AAIE;AAAA;AAAA;AAAA;AAAA,aAJF;AAKE;AAAA;AAAA;AAAA;AAAA,aALF;AAME;AAAA;AAAA;AAAA;AAAA,aANF;AAOE;AAAA;AAAA;AAAA;AAAA;AAPF,WADJ;AAUM;AAAA;AAAA,cAAI,WAAU,WAAd;AACE;AAAA;AAAA;AAAK,mBAAK,KAAL,CAAW,IAAX,CAAgB,CAAhB;AAAL,aADF;AAEE;AAAA;AAAA;AAAK,mBAAK,KAAL,CAAW,IAAX,CAAgB,CAAhB,IAAmB;AAAxB,aAFF;AAGE;AAAA;AAAA;AAAK,mBAAK,KAAL,CAAW,IAAX,CAAgB,CAAhB,IAAmB;AAAxB,aAHF;AAIE;AAAA;AAAA;AAAK,mBAAK,KAAL,CAAW,IAAX,CAAgB,CAAhB,IAAmB;AAAxB,aAJF;AAKE;AAAA;AAAA;AAAK,mBAAK,KAAL,CAAW,IAAX,CAAgB,CAAhB,IAAmB;AAAxB,aALF;AAME;AAAA;AAAA;AAAK,mBAAK,KAAL,CAAW,IAAX,CAAgB,CAAhB;AAAL,aANF;AAOE;AAAA;AAAA;AAAK,mBAAK,KAAL,CAAW,IAAX,CAAgB,CAAhB;AAAL;AAPF;AAVN,SALF;AAyBE,+CAAK,IAAG,MAAR,GAzBF;AA0BE;AAAA;AAAA,YAAG,WAAU,QAAb;AAAA;AAAA,SA1BF;AA2BE;AAAA;AAAA,YAAG,WAAU,QAAb;AAAA;AAAA,SA3BF;AA4BE;AAAA;AAAA,YAAG,WAAU,QAAb;AAAA;AAAA,SA5BF;AA6BE;AACE,iBAAM,cADR;AAEE,mBAAS,IAFX;AAGE,mBAAS;AAAA,mBAAM,OAAO,QAAP,CAAgB,IAAhB,GAAqB,YAAU,OAAK,KAAL,CAAW,MAAX,CAAkB,IAAvD;AAAA;AAHX,UA7BF;AAmCE,mEAAQ,OAAO,CAAf;AAnCF,OADF;AAwCD;;;;EArKgC,gBAAM,S;;AAwKzC,qBAAqB,WAArB,GAAmC,2BAAnC;;AAEA;AACA;AACA;;kBAEe,oB","file":"PriceDetailComponent-compiled.js","sourcesContent":["'use strict';\n\nimport React from 'react';\nimport AppBar from 'material-ui/AppBar'\nimport Footer from '../public/FooterComponent'\nimport $ from 'jquery'\nimport {Table, TableBody, TableHeader, TableHeaderColumn, TableRow, TableRowColumn} from 'material-ui/Table';\nimport FlatButton from 'material-ui/FlatButton'\n\nvar echarts = require('echarts');\nrequire('styles/price/PriceDetail.css');\n\nclass PriceDetailComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history_list:[],\n      info:[]\n    }\n  }\n\n  componentDidMount() {\n    var d,s;\n    d = new Date();\n    s = \"2016-\";             //取年份\n    s = s + (d.getMonth() + 1) + \"-\";//取月份\n    s += d.getDate() + \" \";         //取日期\n    s += d.getHours() + \":\";       //取小时\n    s += d.getMinutes() + \":\";    //取分\n    s += d.getSeconds();         //取秒\n    console.log(s);\n    let self = this;\n    $.ajax({\n      method:\"GET\",\n      url:\"http://121.201.68.143/data/get_contract/?begin=20161125093000&end=20161125150000&contract=\"+this.props.params.name,\n    }).done(function (data) {\n      $.ajax({\n        method:\"GET\",\n        url:\"http://121.201.68.143/data/get_line/?contract=\"+self.props.params.name\n      }).done(function (data_line) {\n        console.log(data_line);\n        for (let i = 0; i < data.length; i++){\n          let list = self.state.history_list;\n          let item = [];\n          item[1] = data[i].price;\n          item[0] = data[i].num;\n          list.push(item);\n          self.setState({\n            history_list:list\n          })\n        }\n        let line_arr = data_line.split(\",\");\n        console.log(line_arr);\n        let l2 = parseInt(line_arr[0]);\n        let l3 = parseInt(line_arr[1]);\n        let l1 = l2+25;\n        let l4 = l3-25;\n        let len = self.state.history_list.length;\n        var myChart = echarts.init(document.getElementById('main'));\n        myChart.setOption({\n          grid:{\n            left:40\n          },\n          tooltip: {},\n          xAxis: {\n            type: 'value',\n            axisLabel: {\n              show:false\n            },\n            min:0,\n            max:'dataMax'\n          },\n          yAxis: {\n            type: 'value',\n            scale:'false'\n          },\n          series: [{\n            name: '历史走势',\n            type: 'line',\n            data:self.state.history_list,\n            sampling: 'average',\n            symbol: 'none'\n          },\n            {\n              name: '1',\n              type: 'line',\n              data: [[0,l2], [len,l2]]\n\n            },\n            {\n              name: '2',\n              type: 'line',\n              data: [[0,l3], [len,l3]]\n            },\n            {\n              name: '3',\n              type: 'line',\n              data: [[0,l1], [len,l1]],\n              symbol: 'none',\n              lineStyle:{\n                normal:{\n                  type:'dotted'\n                }\n              }\n            },\n            {\n              name: '4',\n              type: 'line',\n              data: [[0,l4], [len,l4]],\n              symbol: 'none',\n              lineStyle:{\n                normal:{\n                  type:'dotted'\n                }\n              }\n            },\n          ]\n        });\n      });\n      });\n\n\n    $.ajax({\n      method:\"GET\",\n      url:'http://121.201.68.143/data/get_instant/?contract='+this.props.params.name\n    }).done(function (data) {\n      data = JSON.parse(data);\n      console.log(data.Data[0][0]);\n      self.setState({\n        info:data.Data[0][0]\n      })\n    })\n\n  }\n\n\n  render() {\n    return (\n      <div className=\"pricedetail-component\">\n        <AppBar\n          title=\"行情\"\n          showMenuIconButton={false}\n        />\n        <table className=\"record-table-2\">\n            <tr className=\"table-row-2\">\n              <th>合约</th>\n              <th>高</th>\n              <th>低</th>\n              <th>开</th>\n              <th>最新</th>\n              <th>量</th>\n              <th>额</th>\n            </tr>\n              <tr className=\"detail-tr\">\n                <td>{this.state.info[0]}</td>\n                <td>{this.state.info[2]/1000}</td>\n                <td>{this.state.info[4]/1000}</td>\n                <td>{this.state.info[3]/1000}</td>\n                <td>{this.state.info[1]/1000}</td>\n                <td>{this.state.info[5]}</td>\n                <td>{this.state.info[7]}</td>\n              </tr>\n        </table>\n        <div id=\"main\"></div>\n        <p className=\"time-1\">9:30</p>\n        <p className=\"time-2\">11:30</p>\n        <p className=\"time-3\">15:00</p>\n        <FlatButton\n          label=\"交易\"\n          primary={true}\n          onClick={() => window.location.href=\"#/deal/\"+this.props.params.name}\n        />\n\n        <Footer index={2}/>\n      </div>\n\n    );\n  }\n}\n\nPriceDetailComponent.displayName = 'PricePriceDetailComponent';\n\n// Uncomment properties you need\n// PriceDetailComponent.propTypes = {};\n// PriceDetailComponent.defaultProps = {};\n\nexport default PriceDetailComponent;\n"]}