{"version":3,"sources":["LoginBoxComponent.js"],"names":[],"mappings":"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","file":"LoginBoxComponent-compiled.js","sourcesContent":["'use strict';\n\nimport React from 'react';\nimport AppBar from 'material-ui/AppBar'\nimport TextField from 'material-ui/TextField'\nimport FlatButton from 'material-ui/FlatButton'\nimport RaisedButton from 'material-ui/RaisedButton'\nimport Snackbar from 'material-ui/Snackbar';\nimport $ from 'jquery'\n\nrequire('styles/login/LoginBox.css');\n\nclass LoginBoxComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username:\"\",\n      password:\"\",\n      open:false,\n      msg:\"\"\n    }\n  }\n\n  handleUsernameChange(e) {\n    this.setState({\n      username:e.target.value\n    })\n  }\n\n  handlePasswordChange(e) {\n    this.setState({\n      password:e.target.value\n    })\n  }\n\n  login() {\n    let self = this;\n    $.ajax({\n      method:\"POST\",\n      url:\"http://121.201.68.143/customer/login/\",\n      data:{\n        uname:this.state.username,\n        pwd:this.state.password\n      }\n    }).done(function (data) {\n      console.log(data);\n      if (data.token == \"NULL\") {\n        self.setState({\n          open:true,\n          msg:\"登录失败\"\n        })\n      }\n      else {\n        self.setState({\n          open:true,\n          msg:\"登录成功\"\n        });\n        $(\"#app\").attr('data-token', data.token);\n        $(\"#app\").attr('data-username', self.state.username);\n        setTimeout(\"window.location.href='#/home'\",1000);\n      }\n    })\n  }\n\n  register() {\n    let self = this;\n    $.ajax({\n      method:\"POST\",\n      url:\"http://121.201.68.143/customer/register/\",\n      data:{\n        uname:this.state.username,\n        pwd:this.state.password\n      }\n    }).done(function (data) {\n      console.log(data);\n      if(data.state == 200) {\n        self.setState({\n          open:true,\n          msg:\"注册成功,请点击登录\"\n        })\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"loginbox-component\">\n        <AppBar\n          title='注册/登录'\n          showMenuIconButton={false}\n        />\n        <div className=\"login-box-text-field-wrapper\">\n          <TextField\n            className='login-box-text-field'\n            hintText='用户名'\n            value={this.state.username}\n            onChange={this.handleUsernameChange.bind(this)}\n          />\n          <TextField\n            className='login-box-text-field'\n            hintText='密码'\n            type='password'\n            value={this.state.password}\n            onChange={this.handlePasswordChange.bind(this)}\n          />\n          <div className=\"login-box-button-wrapper\">\n            <RaisedButton\n              className='login-box-login-btn'\n              label='登录'\n              primary={true}\n              onClick={this.login.bind(this)}\n            />\n            <FlatButton\n              className=\"login-box-register-btn\"\n              label='还没有账号，现在注册'\n              primary={true}\n              onClick={this.register.bind(this)}\n            />\n          </div>\n        </div>\n        <div className=\"footer\">\n          ©AlphaSeeker\n        </div>\n        <Snackbar\n          open={this.state.open}\n          message={this.state.msg}\n          autoHideDuration={2000}\n        />\n      </div>\n    );\n  }\n}\n\nLoginBoxComponent.displayName = 'LoginLoginBoxComponent';\n\n// Uncomment properties you need\n// LoginBoxComponent.propTypes = {};\n// LoginBoxComponent.defaultProps = {};\n\nexport default LoginBoxComponent;\n"]}