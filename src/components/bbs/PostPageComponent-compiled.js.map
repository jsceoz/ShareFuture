{"version":3,"sources":["PostPageComponent.js"],"names":[],"mappings":"AAAA;;;;;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;AAEA,QAAQ,yBAAR;;IAEM,iB;;;AACJ,6BAAY,KAAZ,EAAmB;AAAA;;AAAA,sIACX,KADW;;AAEjB,UAAK,KAAL,GAAa;AACX,aAAM,EADK;AAEX,eAAQ,EAFG;AAGX,eAAQ,EAHG;AAIX,kBAAW;AAJA,KAAb;AAFiB;AAQlB;;;;wCAEmB;AAClB,UAAI,OAAO,IAAX;AACA,uBAAE,IAAF,CAAO;AACL,gBAAO,KADF;AAEL,aAAI,+CAA6C,KAAK,KAAL,CAAW,MAAX,CAAkB;AAF9D,OAAP,EAGG,IAHH,CAGQ,UAAU,IAAV,EAAgB;AACtB,gBAAQ,GAAR,CAAY,IAAZ;AACA,aAAK,QAAL,CAAc;AACZ,iBAAM,KAAK,OAAL,CAAa,KADP;AAEZ,mBAAQ,KAAK,OAAL,CAAa,OAFT;AAGZ,mBAAQ,KAAK;AAHD,SAAd;AAKD,OAVD;AAWD;;;wCAEmB,C,EAAG;AACrB,WAAK,QAAL,CAAc;AACZ,oBAAW,EAAE,MAAF,CAAS;AADR,OAAd;AAGD;;;oCAEe;AACd,uBAAE,IAAF,CAAO;AACL,gBAAO,MADF;AAEL,aAAI,uCAFC;AAGL,cAAK;AACH,qBAAU,KAAK,KAAL,CAAW,MAAX,CAAkB,EADzB;AAEH,oBAAS,MAFN;AAGH,mBAAQ,KAAK,KAAL,CAAW,UAHhB;AAIH,gBAAK,sBAAE,MAAF,EAAU,IAAV,CAAe,eAAf,CAJF;AAKH,iBAAM,sBAAE,MAAF,EAAU,IAAV,CAAe,YAAf;AALH;AAHA,OAAP,EAUG,IAVH,CAUQ,UAAU,IAAV,EAAgB;AACtB,gBAAQ,GAAR,CAAY,IAAZ;AACD,OAZD;AAaD;;;6BAEQ;AACP,aACE;AAAA;AAAA,UAAK,WAAU,oBAAf;AACE;AACE,iBAAM,0BADR;AAEE,8BAAoB;AAFtB,UADF;AAKE;AAAA;AAAA,YAAI,WAAU,YAAd;AAA4B,eAAK,KAAL,CAAW;AAAvC,SALF;AAME,8DANF;AAOE;AAAA;AAAA,YAAG,WAAU,QAAb;AAAuB,eAAK,KAAL,CAAW;AAAlC,SAPF;AAQE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA,WADF;AAEG,eAAK,KAAL,CAAW,OAAX,CAAmB,GAAnB,CAAuB,UAAC,IAAD;AAAA,mBACtB;AACE,2BAAa,KAAK,OADpB;AAEE,6BAAe,KAAK;AAFtB,cADsB;AAAA,WAAvB;AAFH,SARF;AAiBE;AAAA;AAAA,YAAK,WAAU,2BAAf;AACE;AACE,uBAAU,eADZ;AAEE,sBAAS,0BAFX;AAGE,mBAAO,KAAK,KAAL,CAAW,UAHpB;AAIE,sBAAU,KAAK,mBAAL,CAAyB,IAAzB,CAA8B,IAA9B;AAJZ,YADF;AAOE;AACE,uBAAU,oBADZ;AAEE,mBAAM,cAFR;AAGE,qBAAS;AAHX;AAPF,SAjBF;AA8BE,mEAAQ,OAAO,CAAf;AA9BF,OADF;AAkCD;;;;EAnF6B,gBAAM,S;;AAsFtC,kBAAkB,WAAlB,GAAgC,sBAAhC;;AAEA;AACA;AACA;;kBAEe,iB","file":"PostPageComponent-compiled.js","sourcesContent":["'use strict';\n\nimport React from 'react';\nimport AppBar from 'material-ui/AppBar';\nimport Footer from '../public/FooterComponent'\nimport Divider from 'material-ui/Divider'\nimport $ from 'jquery';\nimport {List, ListItem} from 'material-ui/List';\nimport Subheader from 'material-ui/Subheader';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton'\n\nrequire('styles/bbs/PostPage.css');\n\nclass PostPageComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title:\"\",\n      content:\"\",\n      comment:[],\n      commentVal:'发表评论'\n    }\n  }\n\n  componentDidMount() {\n    let self = this;\n    $.ajax({\n      method:\"GET\",\n      url:\"http://121.201.68.143/bbs/showarticle/?id=\"+this.props.params.id\n    }).done(function (data) {\n      console.log(data);\n      self.setState({\n        title:data.article.title,\n        content:data.article.content,\n        comment:data.comment\n      })\n    })\n  }\n\n  handleCommentChange(e) {\n    this.setState({\n      commentVal:e.target.value\n    })\n  }\n\n  commentSubmit() {\n    $.ajax({\n      method:\"POST\",\n      url:\"http://121.201.68.143/bbs/addcomment/\",\n      data:{\n        articleid:this.props.params.id,\n        parentid:'Null',\n        comment:this.state.commentVal,\n        user:$('#app').attr('data-username'),\n        token:$('#app').attr('data-token')\n      }\n    }).done(function (data) {\n      console.log(data)\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"postpage-component\">\n        <AppBar\n          title=\"期货论坛\"\n          showMenuIconButton={false}\n        />\n        <h1 className=\"post-title\">{this.state.title}</h1>\n        <Divider/>\n        <p className=\"post-p\">{this.state.content}</p>\n        <List>\n          <Subheader>评论</Subheader>\n          {this.state.comment.map((item) => (\n            <ListItem\n              primaryText={item.content}\n              secondaryText={item.user}\n            />\n          ))}\n        </List>\n        <div className=\"post-comment-text-wrapper\">\n          <TextField\n            className=\"comment-input\"\n            hintText=\"发表评论\"\n            value={this.state.commentVal}\n            onChange={this.handleCommentChange.bind(this)}\n          />\n          <FlatButton\n            className=\"comment-submit-btn\"\n            label=\"确定\"\n            primary={true}\n          />\n        </div>\n        <Footer index={0}/>\n      </div>\n    );\n  }\n}\n\nPostPageComponent.displayName = 'BBSPostPageComponent';\n\n// Uncomment properties you need\n// PostPageComponent.propTypes = {};\n// PostPageComponent.defaultProps = {};\n\nexport default PostPageComponent;\n"]}